const toggler=document.querySelector(".navbar-toggler"),togglerIcon=document.querySelector(".toggler-icon");function changeIcon(){toggler.classList.contains("collapsed")?(togglerIcon.classList.add("bi-list"),togglerIcon.classList.remove("bi-x")):(togglerIcon.classList.remove("bi-list"),togglerIcon.classList.add("bi-x"))}toggler.onclick=changeIcon;const credits_section=document.getElementById("credits");let delay=0;async function getCredits(){try{const e=await fetch("https://lucasimone.net/credits-min.json");if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);(await e.json()).forEach((e=>{credits_section.innerHTML+=`\n                <div class="col-6 col-lg-4 col-xl-3 pb-2 pb-md-4 px-1 d-flex flex-column align-items-center" \n                    data-aos="fade-left" \n                    data-aos-duration="1500" \n                    data-aos-delay="${delay}">\n                    <img class="credit-img" src="${e.img}" alt="${e.name}">\n                    <small class="text-white credits-role text-center wix-text pt-1 pt-md-2">${e.role}</small>\n                </div>\n            `,delay=50*Math.round(.9*(delay+250)/50)}))}catch(e){}}getCredits();const playlist_section=document.getElementById("playlist");async function getPlaylist(){try{const e=await fetch("https://lucasimone.net/playlist-min.json");if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const l=await e.json();let a=0;l.forEach((e=>{a++,playlist_section.innerHTML+=`\n                <li>\n                    <div class="portfolio-item d-flex align-items-center justify-content-between px-4 wix-display fs-18" data-src="${e.file}" data-title="${e.name}">\n                        <span style="width:40px;">${a}</span>\n                        <div class="d-flex flex-column flex-sm-row w-100">\n                            <span id="trackName">${e.name}</span>\n                            <span class="ps-sm-2">(${e.genre})</span>\n                        </div>\n                    </div>\n                </li>\n            `})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>player.init()),100)})):setTimeout((()=>player.init()),100)}catch(e){}}function updateVolumeVisual(e){const l=document.querySelector(".dropdown-content");if(l){const a=75-75*e+7;l.style.setProperty("--volume-fill",a+"%")}}getPlaylist();let player={hName:null,hTimeR:null,hTimeN:null,hTimeT:null,hTog:null,hVolI:null,hVolR:null,pAud:null,pList:null,pSeek:!1,pNow:0,nicetime:e=>{let l=Math.floor(e/60),a=e-60*l;return a<10&&(a="0"+a),`${l}:${a}`},init:()=>{if(void 0===window.wavesurfer)return void setTimeout((()=>player.init()),100);player.hName=document.getElementById("playName"),player.hTimeR=document.getElementById("playTimeR"),player.hTimeN=document.getElementById("playTimeN"),player.hTimeT=document.getElementById("playTimeT"),player.hTog=document.getElementById("playTog"),player.hVolI=document.getElementById("playVolI"),player.hVolR=document.getElementById("playVolR"),player.pAud=document.getElementById("playerAudio"),player.pList=document.querySelectorAll("#playlist .portfolio-item"),player.pList.forEach((e=>{const l=e.dataset.src,a=new Audio(l);a.addEventListener("loadedmetadata",(()=>{const l=player.nicetime(Math.floor(a.duration));if(!e.querySelector(".song-duration")){const a=document.createElement("span");a.className="song-duration text-white",a.textContent=`${l}`,e.append(a)}}))}));let e=()=>{0==player.pAud.paused?(player.hTog.classList.add("bi-pause-circle-fill"),player.hTog.classList.remove("bi-play-circle-fill")):(player.hTog.classList.remove("bi-pause-circle-fill"),player.hTog.classList.add("bi-play-circle-fill"))};player.pAud.onplay=e,player.pAud.onpause=e,player.pAud.onended=()=>player.load(!0),player.hTimeR.oninput=()=>player.pSeek=!0,player.hTimeR.onchange=()=>{player.pAud.currentTime=player.hTimeR.value,player.pSeek=!1,player.pAud.paused&&player.pAud.play()},player.pList.forEach(((e,l)=>{e.onclick=()=>player.load(l)})),player.load(0,!0);player.pList[player.pNow].dataset.src},load:(e,l)=>{player.pAud.paused||player.pAud.pause(),player.hName.innerHTML="Loading",player.hTimeR.disabled=!0,player.pSeek=!1,player.hTog.onclick="",player.hVolI.onclick="",player.hVolR.disabled=!0,!0===e?player.pNow++:!1===e?player.pNow--:player.pNow=e,player.pNow>=player.pList.length&&(player.pNow=0),player.pNow<0&&(player.pNow=player.pList.length-1);for(let e of player.pList)e.classList.remove("current");let a=player.pList[player.pNow];a.classList.add("current");const t=a.dataset.src;t&&(player.pAud.onloadedmetadata=()=>{window.wavesurfer&&(wavesurfer.load(t),wavesurfer.seekTo(0)),player.pAud.ontimeupdate=()=>{if(!player.pSeek&&isFinite(player.pAud.duration)&&player.pAud.duration>0){let e=player.pAud.currentTime,l=player.pAud.duration;player.hTimeR.value=Math.floor(e);let a=100/l*e/100;window.wavesurfer&&window.wavesurfer.seekTo(a)}player.hTimeN.innerHTML=player.nicetime(Math.floor(player.pAud.currentTime))},player.hName.innerHTML=a.dataset.title,player.hTimeN.innerHTML="0:00",player.hTimeT.innerHTML=player.nicetime(Math.floor(player.pAud.duration)),player.hTimeR.value=0,player.hTimeR.max=Math.floor(player.pAud.duration),player.hTog.onclick=()=>{player.pAud.paused?player.pAud.play():player.pAud.pause()},player.hVolI.onclick=()=>{player.pAud.volume=0==player.pAud.volume?1:0,player.hVolR.value=player.pAud.volume,0==player.pAud.volume?(player.hVolI.classList.add("bi-volume-mute-fill"),player.hVolI.classList.remove("bi-volume-up-fill")):(player.hVolI.classList.remove("bi-volume-mute-fill"),player.hVolI.classList.add("bi-volume-up-fill")),updateVolumeVisual(player.pAud.volume)},player.hVolR.oninput=()=>{player.pAud.volume=player.hVolR.value,0==player.pAud.volume?(player.hVolI.classList.add("bi-volume-mute-fill"),player.hVolI.classList.remove("bi-volume-up-fill")):(player.hVolI.classList.remove("bi-volume-mute-fill"),player.hVolI.classList.add("bi-volume-up-fill")),updateVolumeVisual(player.hVolR.value)},player.hVolR.onchange=()=>{player.pAud.volume=player.hVolR.value,0==player.pAud.volume?(player.hVolI.classList.add("bi-volume-mute-fill"),player.hVolI.classList.remove("bi-volume-up-fill")):(player.hVolI.classList.remove("bi-volume-mute-fill"),player.hVolI.classList.add("bi-volume-up-fill")),updateVolumeVisual(player.hVolR.value)},window.wavesurfer?window.wavesurfer.once("ready",(()=>{player.hTimeR.disabled=!1,player.hVolR.disabled=!1,updateVolumeVisual(player.hVolR.value),l||player.pAud.play()})):(player.hTimeR.disabled=!1,player.hVolR.disabled=!1,updateVolumeVisual(player.hVolR.value),l||player.pAud.play())},player.pAud.src=t,player.pAud.load())}};const consent=document.getElementById("cookieConsent");function showCookieConsent(){consent.classList.add("show")}let checkCookie=document.cookie.indexOf("CookieBy=LucaSimone");function acceptAll(){document.getElementById("analyticsCookies").checked=!0,saveCookiePreferences(),consent.classList.remove("show")}function acceptNecessary(){document.getElementById("analyticsCookies").checked=!1,saveCookiePreferences(),consent.classList.remove("show")}function saveCookiePreferences(){const e=document.getElementById("cookieConsent"),l=document.getElementById("analyticsCookies").checked;document.cookie="CookieBy=LucaSimone; max-age=15552000",localStorage.setItem("cookieConsent","true"),localStorage.setItem("analyticsCookies",l),e.classList.add("hiding"),setTimeout((()=>{e.classList.remove("show","hiding")}),300)}-1==checkCookie&&setTimeout(showCookieConsent,1e3);let mybutton=document.getElementById("myBtn");function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.opacity="1":mybutton.style.opacity="0"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}window.onscroll=function(){scrollFunction()};